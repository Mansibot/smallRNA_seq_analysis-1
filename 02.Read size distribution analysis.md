#### Extracting reads by read size
Each of the read files contained reads of 15-75 nt in length. We extracted the read size distributions of the trimmed reads as follows:
```ShellSession
awk '{if(NR%4==2) print length($1)}' SequencingData_RWTH/smallRNAseq/Bgh-K1_haustoria-vesicles-epidermal_2019PietroSpanu/trimmed/RSB15248-1.trimmed.fastq | sort -n | uniq -c > RSB15248-1.sizeDistr.txt
```
This results in a two-column output, where column 1 contains the counts and column 2 the read size. To summarize the results in one table:
```ShellSession
paste <(awk '{print $2}' RSB15248-1.sizeDistr.txt) <(awk '{print $1}' RSB15248-1.sizeDistr.txt) <(awk '{print $1}' RSB15248-2.sizeDistr.txt) <(awk '{print $1}' RSB15248-3.sizeDistr.txt) <(awk '{print $1}' RSB15248-4.sizeDistr.txt) <(awk '{print $1}' RSB15248-5.sizeDistr.txt) <(awk '{print $1}' RSB15248-6.sizeDistr.txt) <(awk '{print $1}' RSB15248-7.sizeDistr.txt) <(awk '{print $1}' RSB15248-8.sizeDistr.txt) <(awk '{print $1}' RSB15248-9.sizeDistr.txt) <(awk '{print $1}' RSB15248-10.sizeDistr.txt) <(awk '{print $1}' RSB15248-11.sizeDistr.txt) <(awk '{print $1}' RSB15248-12.sizeDistr.txt) <(awk '{print $1}' RSB15248-13.sizeDistr.txt) <(awk '{print $1}' RSB15248-14.sizeDistr.txt) <(awk '{print $1}' RSB15248-15.sizeDistr.txt) <(awk '{print $1}' RSB15248-16.sizeDistr.txt) <(awk '{print $1}' RSB15248-17.sizeDistr.txt) <(awk '{print $1}' RSB15248-18.sizeDistr.txt) > sizeDistr.txt
```
Generating:
```
15	1380177	1290395	1796106	836532	653638	762148	363552	330822	300718	186332	292662	224531	271791	474893	202018	588802	707857	701715
16	4385732	3648088	3364706	924891	596408	882130	472160	477660	419417	240304	504547	289781	377443	415108	286773	1080844	1263246	1179919
17	1558281	1706594	2822221	1458984	946189	1408104	870096	834546	752348	353522	695557	339091	537506	583595	453019	1750946	2012774	1861221
18	1855285	1962225	2984519	2130960	1411695	2025815	1786815	1564398	1448955	503534	904296	436786	479231	642339	511473	2133160	2431974	2223099
19	3604061	3294956	3164676	2126402	1417759	2031843	1591491	1524530	1363873	506642	994414	428036	520634	622376	509871	2223685	2522453	2331232
20	2581484	2549389	2846196	1511700	1025126	1458101	869478	876975	805377	611789	1109874	455417	519656	621036	578042	2488148	2749977	2570071
```

```ShellSession
samtools view -F 4 RSB15248-1.trimmo.bam | awk '{print $1}' | sed 's/\:/\_/g' | awk '!x[$0]++' | grep -Fwf - /hpcwork/sk893857/tmp-phasiPietro/RSB15248-1.trimmed.fasta.length | awk '{print $2}' | sort -n | uniq -c | awk '{print $1,$2}' > ./countsbyreadsize/countsbysize.bgh_all.RSB15248-1.txt
```

```
paste ./countsbyreadsize/countsbysize.bgh_all.RSB15248-1.txt ./countsbyreadsize/countsbysize.bgh_all.RSB15248-2.txt ./countsbyreadsize/countsbysize.bgh_all.RSB15248-3.txt ./countsbyreadsize/countsbysize.bgh_all.RSB15248-4.txt ./countsbyreadsize/countsbysize.bgh_all.RSB15248-5.txt ./countsbyreadsize/countsbysize.bgh_all.RSB15248-6.txt ./countsbyreadsize/countsbysize.bgh_all.RSB15248-7.txt ./countsbyreadsize/countsbysize.bgh_all.RSB15248-8.txt ./countsbyreadsize/countsbysize.bgh_all.RSB15248-9.txt ./countsbyreadsize/countsbysize.bgh_all.RSB15248-10.txt ./countsbyreadsize/countsbysize.bgh_all.RSB15248-11.txt ./countsbyreadsize/countsbysize.bgh_all.RSB15248-12.txt ./countsbyreadsize/countsbysize.bgh_all.RSB15248-13.txt ./countsbyreadsize/countsbysize.bgh_all.RSB15248-14.txt ./countsbyreadsize/countsbysize.bgh_all.RSB15248-15.txt ./countsbyreadsize/countsbysize.bgh_all.RSB15248-16.txt ./countsbyreadsize/countsbysize.bgh_all.RSB15248-17.txt ./countsbyreadsize/countsbysize.bgh_all.RSB15248-18.txt | cut -f 1,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36 > ./countsbyreadsize/countsbysize.bgh_all.txt
```
